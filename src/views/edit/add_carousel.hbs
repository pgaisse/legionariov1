{{#if user}}
<div class="container-sm">
  <!--Creation Section-->
  <p>

  <h3 class="text-white mt-5" >
    Agregar Fotos en el carrusel
  </h3></p><br />
  <form class="row g-3" method="POST" action="/add_carousel" enctype="multipart/form-data">
    <div class="input-group mb-3">

      <input type="file" class="form-control" name="picture" id="imageForm">
      <label class="input-group-text" for="inputGroupFile02">Subir</label>
    </div>

    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1">Título</span>
      <input type="text" class="form-control" name="title" id="name" placeholder="Nombre Producto" aria-label="Nombre"
        aria-describedby="basic-addon1">
    </div>

    <div class="input-group">
      <span class="input-group-text">Descripción</span>
      <textarea class="form-control" maxlength="500" name="text" aria-label="With textarea"></textarea>
    </div>

    <div class="input-group">
      <button type="submit" class="btn btn-primary mb-3">Agregar</button>
    </div>


  </form>
</div>


<script>
   document.getElementById('imageForm').addEventListener('submit', function(event) {
      const imageFile = document.getElementById('image').files[0];
      const minWidth = 1500; // Resolución mínima de ancho
      const minHeight = 1000; // Resolución mínima de alto

      const reader = new FileReader();

      reader.onload = function(e) {
        const img = new Image();
        img.onload = function() {
          if (img.width < minWidth || img.height < minHeight) {
            alert(`Image must be at least ${minWidth}x${minHeight} pixels.`);
            event.preventDefault(); // Evita que el formulario se envíe
          }
        };
        img.src = e.target.result;
      };

      reader.readAsDataURL(imageFile); // Leemos la imagen como una URL de datos
    });
  
</script>
{{/if}}